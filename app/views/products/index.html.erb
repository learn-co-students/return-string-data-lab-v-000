<h1>Product Index Page</h1>

<% @products.each do |product| %>
    <%= render partial: "product", locals: {product: product} %>
<% end %>

<script type="text/javascript" charset="utf-8">
    $(function () {
        $(".js-more").on('click', function () {
            //get the id from the data attribute
            const id = $(this).data("id");
            $.get("/products/" + id + "/description", function (data) {
                $("#body-" + id).text(data);
            })
            $.get("/products/" + id + "/inventory", function (data) {
                if (data === "true"){
                    $("#body-" + id).append((" - Available"));
                } else {
                    $("#body-" + id).append(" - Sold Out");
                }

            })
        })
    })
</script>